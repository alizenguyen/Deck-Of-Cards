#########################################################################################
# Use the `queries` block to change the default display of query results.               #
#########################################################################################

queries:
  # Start by hiding the results of all queries.
  - exclude: '*'
  # Then include all queries tagged 'security' and 'correctness', and with a severity of
  # 'error'.
  - include:
      tags:
        - 'security'
        - 'correctness'
      severity: 'error'

#########################################################################################
# Define changes to the default code extraction process.                                #
# Each block configures the extraction of a single language, and modifies actions in a  #
# named step. Every named step includes automatic default actions,                      #
# except for the 'prepare' step. The steps are performed in the following sequence:     #
# prepare                                                                               #
# after_prepare                                                                         #
# configure (C/C++ only)                                                                #
# python_setup (Python only)                                                            #
# before_index                                                                          #
# index                                                                                 #
##########################################################################################

#########################################################################################
# Environment variables available to the steps:                                         #
#########################################################################################

# LGTM_SRC
#   The root of the source tree.
# LGTM_WORKSPACE
#   An existing (initially empty) folder outside the source tree.
#   Used for temporary download and setup commands.

#########################################################################################
# Use the extraction block to define changes to the default code extraction process     #
# for one or more languages. The settings for each language are defined in a child      #
# block, with one or more steps.                                                        #
#########################################################################################

extraction:
  # Define settings for JavaScript analysis
  ##########################################
  javascript:
    # The `prepare` step exists for customization on LGTM.com only.
    # prepare:
    #   packages:
    #     - example_package
    # Add an `after-prepare` step if you need to run commands after the prepare step.
    # Each command should be listed on a separate line.
    index:
      # Specify a list of files and folders to extract.
      # Default: The project root directory.
      include:
        - src/js
      # Specify a list of files and folders to exclude from extraction.
      exclude:
        - thirdparty/lib
        - src/components/Deck.js
      # You can add additional file types for LGTM to extract, by mapping file
      # extensions (including the leading dot) to file types. The usual
      # include/exclude patterns apply, so, for example, `.jsm` files under
      # `thirdparty/lib` will not be extracted.
      filetypes:
        '.jsm': 'js'
        '.tmpl': 'html'
      # Specify a list of glob patterns to include/exclude files from extraction; this
      # is applied on top of the include/exclude paths from above; patterns are
      # processed in the same way as for path classifiers above.
      # Default: include all files with known extensions (such as .js, .ts and .html),
      # but exclude files ending in `-min.js` or `.min.js` and folders named `node_modules`
      # or `bower_components`
      filters:
        # exclude any *.ts files anywhere.
        - exclude: '**/*.ts'
        # but include *.ts files under src/js/typescript.
        - include: 'src/js/typescript/**/*.ts'
      # Specify how TypeScript files should be extracted:
      #   none = exclude all TypeScript files.
      #   basic = extract syntactic information from TypeScript files.
      #   full = extract syntactic and type information from TypeScript files.
      # Default: full.
      typescript: none
      # By default, LGTM doesn't extract any XML files. You can override this by
      # using the `xml_mode` property and setting it to `all`.
      xml_mode: all
